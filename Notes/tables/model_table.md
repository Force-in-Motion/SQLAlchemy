Модель — это воплощение понятия предметной области в коде приложения.

В SQLAlchemy модель представляет собой класс, который описывает структуру таблицы в базе данных и определяет, как данные в этой таблице будут отображаться в виде объектов Python.

Модели позволяют работать с базой данных на более высоком уровне абстракции, используя объекты и их атрибуты вместо прямых SQL-запросов.

Каждый класс модели соответствует одной таблице в базе данных.

Класс обычно наследуется от верхнеуровнего класса Base, который создается с помощью функции declarative\_base() из SQLAlchemy.

```haskell
from sqlalchemy.orm import DeclarativeBase

class Base(DeclarativeBase):
    pass
```


Первый способ создания модели:


```haskell
class Felis(Base):
    """
    Класс для описания питомцев - кошек
    """

    __tablename__ = 'felis'
  
    id = Column(Integer, primary_key=True)
    name = Column(String, nullable=False)
    birthdate = Column(String, nullable=False)
    character = Column(String, nullable=False)
    condition = Column(String, nullable=False)
    abilities = Column(PickleType, nullable=True)  # Используем PickleType для хранения списков
```

Такой способ описания модели таблицы называется **декларативный стиль.**
Модель определяется как класс, который наследует от Base. Основные элементы класса описываются в виде атрибутов класса (в частности атрибут \_\_tablename\_\_ - это имя таблицы в базе данных).

Остальные переменные-атрибуты класса модели соответствуют полю в таблице базы данных.

При указании типа данных поля используются типы данных SQLAlchemy, такие как \`Integer\`, \`String\`, \`Float\` и т.д.

Они будут приведены к соответствующему типу данных СУБД, с которой будет установлено соединение.

Преимущества декларативного стиля описания:

* Код читаем и интуитивно понятен. Используя классы, вы можете легко использовать наследование и другие объектно-ориентированные принципы.
* Декларативный стиль хорошо интегрируется с возможностями ORM, такими как отношения между моделями и работа с сессиями.
* Классы более самодокументируемы, что облегчает понимание структуры данных.

Недостатки:

* Для работы с декларативным стилем нужно больше настроек (например, создание базового класса).
* Если вам нужно динамически создавать модели на основе данных, декларативный стиль может быть менее удобен




Второй (императивный) стиль описания моделей - **определение через Table**

Table - это класс SQLAlchemy, представляющий структуру таблицы в базе данных.

```sql
from sqlalchemy import MetaData, Table, Column, Integer, String

metadata = MetaData()

felis = Table('felis', metadata,
                   Column('id', Integer, primary_key=True),
                   Column('name', String, nullable=False),
                   Column('birthdate', String, nullable=False),
                   Column('character', String, nullable=False),
                   Column('condition', String, nullable=False),
                   Column('abilities', PickleType, nullable=True)
               )
```

Объект Metadata, в этом случае, передаём по ссылке

Преимущества:

* Удобно для динамического создания таблиц, где структура может меняться.
* Нет необходимости создавать и настраивать базовые классы.

Недостатки:

* Этот подход не предоставляет всех возможностей ORM, таких как автоматическое управление сессиями и отношения между моделями.
* Для больших проектов код может стать менее читаемым и организованным по сравнению с декларативным стилем.
